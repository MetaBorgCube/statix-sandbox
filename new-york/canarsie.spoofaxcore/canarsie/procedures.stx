module canarsie/procedures

imports
  canarsie/resolution
  canarsie/types

signature
  constructors
    PROC: list(TYPE) * TYPE -> TYPE

rules

  declareProc: scope * string * list(TYPE) * TYPE
  
  declareProc(s, n, Targs, T) :-
    !var[n, withType(PROC(Targs, T))] in s,
    query var
      filter e and {n' :- n' == n}
          in s |-> [_]
    | error $[Duplicate declaration of type [n]].



